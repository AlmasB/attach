plugins {
    id "org.openjfx.javafxplugin" version "0.0.7" apply false
}

subprojects {
    apply plugin: "java-library"
    apply plugin: "org.openjfx.javafxplugin"

    sourceCompatibility = 11
    targetCompatibility = 11

    repositories {
        mavenCentral()
    }

    if (project.name == "desktop") {
        jar {
            archiveBaseName = project.parent.name
            archiveClassifier = "desktop"
        }
    }

    apply from: rootProject.file('gradle/mavenPublish.gradle')
}

private String getServiceName(projectName) {
    if (projectName.contains("-")) { // in-app-billing -> InAppBilling
        def values = projectName.tokenize("-")
        return values.inject("") { name, pn -> name + pn.capitalize()  }
    } else if (projectName == "util") {
        projectName = "attach"
    }
    return projectName.capitalize()
}
